<app-admin-header (activeTabChange)="setActiveTab($event)"></app-admin-header>

<div class="admin-content">
  <!-- Users Table -->
  <div *ngIf="activeTab === 'users'" class="tab-content">
    <h2>Registered Users</h2>
    <table mat-table [dataSource]="users" class="mat-elevation-z8">
      <!-- Name Column -->
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef>Name</th>
        <td mat-cell *matCellDef="let user">{{ user.name }}</td>
      </ng-container>

      <!-- Email Column -->
      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef>Email</th>
        <td mat-cell *matCellDef="let user">{{ user.email }}</td>
      </ng-container>

      <!-- Role Column -->
      <ng-container matColumnDef="role">
        <th mat-header-cell *matHeaderCellDef>Role</th>
        <td mat-cell *matCellDef="let user">{{ user.role }}</td>
      </ng-container>

      <!-- Delete Column -->
      <ng-container matColumnDef="delete">
        <th mat-header-cell *matHeaderCellDef>Action</th>
        <td mat-cell *matCellDef="let user">
          <button
            mat-icon-button
            color="warn"
            aria-label="Delete user"
            [disabled]="user.role === 'admin'"
            (click)="deleteUser(user.id)"
          >
            <mat-icon>delete</mat-icon>
          </button>
        </td>
      </ng-container>

      <!-- Header and Row Declarations -->
      <tr mat-header-row *matHeaderRowDef="displayedColumnsUsers"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumnsUsers"></tr>
    </table>
  </div>

  <!-- Tours Table -->
  <div *ngIf="activeTab === 'tours'" class="tab-content">
    <h2>Booked Tours</h2>
    <table mat-table [dataSource]="tours" class="mat-elevation-z8">
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef>Name</th>
        <td mat-cell *matCellDef="let tour">{{ tour.name }}</td>
      </ng-container>
      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef>Email</th>
        <td mat-cell *matCellDef="let tour">{{ tour.email }}</td>
      </ng-container>
      <ng-container matColumnDef="arrival_date">
        <th mat-header-cell *matHeaderCellDef>Arrival Date</th>
        <td mat-cell *matCellDef="let tour">{{ tour.arrival_date }}</td>
      </ng-container>
      <ng-container matColumnDef="departure_date">
        <th mat-header-cell *matHeaderCellDef>Departure Date</th>
        <td mat-cell *matCellDef="let tour">{{ tour.departure_date }}</td>
      </ng-container>
      <ng-container matColumnDef="head_count">
        <th mat-header-cell *matHeaderCellDef>Head Count</th>
        <td mat-cell *matCellDef="let tour">{{ tour.head_count }}</td>
      </ng-container>
      <ng-container matColumnDef="social_media_link">
        <th mat-header-cell *matHeaderCellDef>Social Media</th>
        <td mat-cell *matCellDef="let tour">{{ tour.social_media_link }}</td>
      </ng-container>
      <ng-container matColumnDef="contact_no">
        <th mat-header-cell *matHeaderCellDef>Contact No</th>
        <td mat-cell *matCellDef="let tour">{{ tour.contact_no }}</td>
      </ng-container>
      <ng-container matColumnDef="package_name">
        <th mat-header-cell *matHeaderCellDef>Package Name</th>
        <td mat-cell *matCellDef="let tour">{{ tour.package_name }}</td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumnsTours"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumnsTours"></tr>
    </table>
  </div>

  <!-- Queries Table -->
  <div *ngIf="activeTab === 'queries'" class="tab-content">
    <h2>Contact Queries</h2>
    <table mat-table [dataSource]="queries" class="mat-elevation-z8">
      <ng-container matColumnDef="firstName">
        <th mat-header-cell *matHeaderCellDef>First Name</th>
        <td mat-cell *matCellDef="let query">{{ query.firstName }}</td>
      </ng-container>
      <ng-container matColumnDef="lastName">
        <th mat-header-cell *matHeaderCellDef>Last Name</th>
        <td mat-cell *matCellDef="let query">{{ query.lastName }}</td>
      </ng-container>
      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef>Email</th>
        <td mat-cell *matCellDef="let query">{{ query.email }}</td>
      </ng-container>
      <ng-container matColumnDef="message">
        <th mat-header-cell *matHeaderCellDef>Message</th>
        <td mat-cell *matCellDef="let query">{{ query.message }}</td>
      </ng-container>
      <ng-container matColumnDef="whatsappNo">
        <th mat-header-cell *matHeaderCellDef>WhatsApp No</th>
        <td mat-cell *matCellDef="let query">{{ query.whatsappNo }}</td>
      </ng-container>
      <ng-container matColumnDef="touristNo">
        <th mat-header-cell *matHeaderCellDef>Tourist No</th>
        <td mat-cell *matCellDef="let query">{{ query.touristNo }}</td>
      </ng-container>
      <ng-container matColumnDef="createdAt">
        <th mat-header-cell *matHeaderCellDef>Created At</th>
        <td mat-cell *matCellDef="let query">{{ query.createdAt }}</td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumnsQueries"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumnsQueries"></tr>
    </table>
  </div>
</div>
